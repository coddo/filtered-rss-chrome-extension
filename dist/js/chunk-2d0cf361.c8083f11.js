(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0cf361"],{"636d":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mt-3 container-fluid"},[i("div",{staticClass:"input-group"},[i("input",{staticClass:"form-control",attrs:{type:"text","aria-label":"Text input with checkbox",value:"Notification popup",disabled:""}}),i("div",{staticClass:"input-group-append"},[i("div",{staticClass:"input-group-text"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.userSettings.notificationPopup,expression:"userSettings.notificationPopup"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.userSettings.notificationPopup)?t._i(t.userSettings.notificationPopup,null)>-1:t.userSettings.notificationPopup},on:{change:[function(e){var i=t.userSettings.notificationPopup,n=e.target,a=!!n.checked;if(Array.isArray(i)){var s=null,o=t._i(i,s);n.checked?o<0&&t.$set(t.userSettings,"notificationPopup",i.concat([s])):o>-1&&t.$set(t.userSettings,"notificationPopup",i.slice(0,o).concat(i.slice(o+1)))}else t.$set(t.userSettings,"notificationPopup",a)},function(e){return t.saveChanges()}]}})])])]),t.userSettings.notificationPopup?i("div",{staticClass:"input-group mt-3"},[i("input",{staticClass:"form-control",attrs:{type:"text","aria-label":"Text input with checkbox",value:"Notification sound",disabled:""}}),i("div",{staticClass:"input-group-append"},[i("div",{staticClass:"input-group-text"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.userSettings.notificationSound,expression:"userSettings.notificationSound"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.userSettings.notificationSound)?t._i(t.userSettings.notificationSound,null)>-1:t.userSettings.notificationSound},on:{change:[function(e){var i=t.userSettings.notificationSound,n=e.target,a=!!n.checked;if(Array.isArray(i)){var s=null,o=t._i(i,s);n.checked?o<0&&t.$set(t.userSettings,"notificationSound",i.concat([s])):o>-1&&t.$set(t.userSettings,"notificationSound",i.slice(0,o).concat(i.slice(o+1)))}else t.$set(t.userSettings,"notificationSound",a)},function(e){return t.saveChanges()}]}})])])]):t._e(),i("div",{staticClass:"input-group mt-3"},[t._m(0),i("select",{directives:[{name:"model",rawName:"v-model",value:t.userSettings.refreshIntervalMinutes,expression:"userSettings.refreshIntervalMinutes"}],staticClass:"custom-select",attrs:{id:"dd-update-interval"},on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.userSettings,"refreshIntervalMinutes",e.target.multiple?i:i[0])},function(e){return t.saveChanges()}]}},t._l(t.acceptedUpdateIntervals,function(e){return i("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])}),0)]),i("div",{staticClass:"mt-3 container-fluid bg-dark py-1 px-0 mx-0"}),i("h4",{staticClass:"text-white mt-3"},[t._v("Import and export settings and feeds")]),i("div",{staticClass:"mt-3 d-flex"},[i("button",{staticClass:"btn btn-success ml-auto mr-2",on:{click:function(e){return t.exportConfiguration()}}},[t._v("Export")]),i("button",{staticClass:"btn btn-success mr-auto",on:{click:function(e){return t.importConfiguration()}}},[t._v("Import")])]),1===t.showDialog?i("div",{staticClass:"alert alert-success mt-3"},[t._v("Successfully imported settings and feeds!")]):t._e(),2===t.showDialog?i("div",{staticClass:"alert alert-danger mt-3"},[t._v("Error importing settings and feeds!")]):t._e()])},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"input-group-prepend"},[i("label",{staticClass:"input-group-text",attrs:{for:"dd-update-interval"}},[t._v("Update interval (minutes)")])])}],s=i("d225"),o=i("b0b4"),r=i("308d"),u=i("6bb5"),c=i("4e2b"),l=i("9ab4"),d=i("60a3"),p=i("70d4"),f=(i("6b54"),i("87b3"),i("50aa")),v=function(){function t(){Object(s["a"])(this,t)}return Object(o["a"])(t,[{key:"exportSettingsAndFeeds",value:function(){var t=this.getFileContent(),e=document.createElement("a");e.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),e.setAttribute("download","fi-rss-config.json"),e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e)}},{key:"importSettingsAndFeeds",value:function(t){var e=this,i=document.createElement("input");i.type="file",i.onchange=function(i){return e.importFileAcceptedEvent(i,t)},i.click()}},{key:"importFileAcceptedEvent",value:function(t,e){var i=t.target;if(i&&i.files&&0!==i.files.length){var n=i.files.item(0);if(n){var a=new FileReader;a.onload=function(t){if(a.result)try{var i=JSON.parse(a.result.toString());if(!i)return void e(!1);i.feeds&&(f["a"].rawData=i.feeds),i.settings&&(p["a"].rawData=i.settings),e(!0)}catch(n){e(!1)}else e(!1)},a.readAsText(n)}else e(!1)}else e(!1)}},{key:"getFileContent",value:function(){return JSON.stringify({feeds:f["a"].data,settings:p["a"].data})}}]),t}(),g=new v,m=i("7563"),h=i("18e5"),b=function(t){function e(){var t;return Object(s["a"])(this,e),t=Object(r["a"])(this,Object(u["a"])(e).call(this)),t.timeoutHandle=0,t.acceptedUpdateIntervals=[1,2,3,5,10,15,20,25,30,40,50,60,75,90,105,120],t.showDialog=0,t}return Object(c["a"])(e,t),Object(o["a"])(e,[{key:"saveChanges",value:function(){var t=this.userSettings;p["a"].data={notificationPopup:t.notificationPopup,notificationSound:t.notificationSound,refreshIntervalMinutes:t.refreshIntervalMinutes},h["a"].restart()}},{key:"exportConfiguration",value:function(){g.exportSettingsAndFeeds()}},{key:"importConfiguration",value:function(){g.importSettingsAndFeeds(this.importConfigurationCallback)}},{key:"importConfigurationCallback",value:function(t){var e=this;this.showDialog=t?1:2,this.timeoutHandle=setTimeout(function(){e.showDialog=0,clearTimeout(e.timeoutHandle),e.timeoutHandle=0},5e3),t&&m["a"].refreshDashboardCache()}},{key:"userSettings",get:function(){return p["a"].data}},{key:"showSoundOption",get:function(){return p["a"].data.notificationPopup}}]),e}(d["d"]);b=Object(l["a"])([Object(d["a"])({components:{}})],b);var S=b,C=S,y=i("2877"),k=Object(y["a"])(C,n,a,!1,null,"58b61a23",null);e["default"]=k.exports}}]);
//# sourceMappingURL=chunk-2d0cf361.c8083f11.js.map