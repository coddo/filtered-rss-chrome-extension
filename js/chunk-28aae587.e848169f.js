(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-28aae587"],{"2a3d":function(e,t,a){},9286:function(e,t,a){"use strict";var r=a("2a3d"),n=a.n(r);n.a},9691:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("feed-details",{attrs:{feed:e.feed},on:{save:function(t){return e.addFeed()}}})],1)},n=[],i=a("d225"),s=a("b0b4"),l=a("308d"),u=a("6bb5"),c=a("4e2b"),o=a("9ab4"),d=a("60a3"),f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"feed-editor"}},[a("div",{staticClass:"mt-3 mx-3 p-3 bg-white",attrs:{id:"feed-details"}},[a("div",{staticClass:"d-flex mb-2"},[a("h3",{staticClass:"pt-1"},[e._v("Details")]),a("button",{staticClass:"btn btn-danger ml-auto",on:{click:function(t){return e.cancelAdd()}}},[e._v("Cancel")]),a("button",{staticClass:"btn btn-success ml-1",on:{click:function(t){return e.saveFeed()}}},[e._v("Save")])]),a("div",{staticClass:"input-group mb-3"},[e._m(0),a("input",{directives:[{name:"model",rawName:"v-model",value:e.feed.name,expression:"feed.name"}],staticClass:"form-control",attrs:{type:"text","aria-label":"Feed display name","aria-describedby":"feed-name"},domProps:{value:e.feed.name},on:{input:function(t){t.target.composing||e.$set(e.feed,"name",t.target.value)}}})]),a("div",{staticClass:"input-group"},[e._m(1),a("input",{directives:[{name:"model",rawName:"v-model",value:e.feed.url,expression:"feed.url"}],staticClass:"form-control",attrs:{type:"text","aria-label":"Feed URL","aria-describedby":"feed-url"},domProps:{value:e.feed.url},on:{input:function(t){t.target.composing||e.$set(e.feed,"url",t.target.value)}}})])]),a("div",{staticClass:"mt-3 mx-3 p-3 bg-white",attrs:{id:"feed-filters"}},[a("div",{staticClass:"d-flex"},[a("h3",{staticClass:"pt-1"},[e._v("Filters")]),e.feed.filters&&0!==e.feed.filters.length?e._e():a("button",{staticClass:"btn btn-success ml-auto mb-2",attrs:{id:"btn-add-filter",title:"Add new filter"},on:{click:function(t){return e.addFilter()}}},[e._v("Add filters")])]),e._l(e.feed.filters,function(t,r){return a("div",{key:r,staticClass:"mb-3"},[a("div",{staticClass:"input-group"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.feed.filters[r].target,expression:"feed.filters[filterIndex].target"}],staticClass:"custom-select",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.feed.filters[r],"target",t.target.multiple?a:a[0])}}},e._l(e.filterTargets,function(t){return a("option",{key:r+"-"+t,domProps:{value:t}},[e._v(e._s(t))])}),0),a("select",{directives:[{name:"model",rawName:"v-model",value:e.feed.filters[r].action,expression:"feed.filters[filterIndex].action"}],staticClass:"custom-select",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.feed.filters[r],"action",t.target.multiple?a:a[0])}}},e._l(e.filterActions,function(t){return a("option",{key:r+"-"+t,domProps:{value:t}},[e._v(e._s(t))])}),0)]),a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.feed.filters[r].value,expression:"feed.filters[filterIndex].value"}],staticClass:"form-control mr-1",attrs:{type:"text"},domProps:{value:e.feed.filters[r].value},on:{input:function(t){t.target.composing||e.$set(e.feed.filters[r],"value",t.target.value)}}}),a("button",{staticClass:"btn btn-danger mr-1",attrs:{title:"Delete this filter"},on:{click:function(t){return e.removeFilter(r)}}},[e._v("-")]),a("button",{staticClass:"btn btn-success",attrs:{title:"Add new filter"},on:{click:function(t){return e.addFilter()}}},[e._v("+")])])])})],2)])},v=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"feed-name"}},[e._v("Name")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"feed-url"}},[e._v("URL")])])}],p=(a("b3f3"),a("96cf"),a("3b8d")),b=a("396a"),m=a("dcd0"),h=a("5de6"),g=function(e){function t(){var e;return Object(i["a"])(this,t),e=Object(l["a"])(this,Object(u["a"])(t).call(this)),e.EVENT_SAVE="save",e}return Object(c["a"])(t,e),Object(s["a"])(t,[{key:"addFilter",value:function(){this.feed.filters.push(new b["c"])}},{key:"removeFilter",value:function(e){this.feed.filters.splice(e,1)}},{key:"saveFeed",value:function(){var e=Object(p["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.isDataValidAsync();case 2:if(e.sent){e.next=4;break}return e.abrupt("return");case 4:this.$emit(this.EVENT_SAVE);case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"cancelAdd",value:function(){this.$router.push("/")}},{key:"isDataValidAsync",value:function(){var e=Object(p["a"])(regeneratorRuntime.mark(function e(){var t,a,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.feed.name){e.next=3;break}return alert("You haven't specified the feed name"),e.abrupt("return",!1);case 3:if(this.feed.url){e.next=6;break}return alert("You haven't specified the feed URL"),e.abrupt("return",!1);case 6:t=0;case 7:if(!(t<this.feed.filters.length)){e.next=21;break}if(a=this.feed.filters[t],a.action!==m["b"].Unknown){e.next=12;break}return alert("You haven't specified the target field for filter ".concat(t+1)),e.abrupt("return",!1);case 12:if(a.target!==m["a"].Unknown){e.next=15;break}return alert("You haven't specified the validation action for filter ".concat(t+1)),e.abrupt("return",!1);case 15:if(a.value){e.next=18;break}return alert("You haven't specified the validation value for filter ".concat(t+1)),e.abrupt("return",!1);case 18:t++,e.next=7;break;case 21:return e.next=23,Object(h["a"])(this.feed);case 23:if(r=e.sent,null!==r){e.next=27;break}return alert("This feed seems to be invalid or inexistent"),e.abrupt("return",!1);case 27:return e.abrupt("return",!0);case 28:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"filterTargets",get:function(){return m["b"].list.filter(function(e){return e!==m["b"].Unknown})}},{key:"filterActions",get:function(){return m["a"].list.filter(function(e){return e!==m["a"].Unknown})}}]),t}(d["c"]);o["a"]([Object(d["b"])(b["d"])],g.prototype,"feed",void 0),g=o["a"]([Object(d["a"])({components:{}})],g);var k=g,x=k,_=(a("9286"),a("2877")),w=Object(_["a"])(x,f,v,!1,null,"68d4cda6",null),C=w.exports,y=a("50aa"),j=function(e){function t(){var e;return Object(i["a"])(this,t),e=Object(l["a"])(this,Object(u["a"])(t).call(this)),e.feed=new b["d"],e}return Object(c["a"])(t,e),Object(s["a"])(t,[{key:"addFeed",value:function(){var e=y["a"].addConfigurationFeed(this.feed);e&&this.$router.push("/")}}]),t}(d["c"]);j=o["a"]([Object(d["a"])({components:{FeedDetails:C}})],j);var O=j,F=O,A=Object(_["a"])(F,r,n,!1,null,"2de690b7",null);t["default"]=A.exports}}]);
//# sourceMappingURL=chunk-28aae587.e848169f.js.map